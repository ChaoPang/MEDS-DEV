commands:
  unsupervised: null
  supervised:
    train: null
    predict: |-
      meds-tab-describe \
          "input_dir={dataset_dir}/data" "output_dir={output_dir}/meds_tab"

      meds-tab-tabularize-static \
          "input_dir={dataset_dir}/data" "output_dir={output_dir}/meds_tab" \
          do_overwrite=False "input_label_dir={labels_dir}" \
          "tabularization.aggs=[static/present,code/count,value/sum]" \
          "tabularization.window_sizes=[7d,30d]" \
          "tabularization.max_included_codes=10"

      meds-tab-tabularize-time-series \
          --multirun \
          worker="range(0,1)" \
          hydra/launcher=joblib \
          "input_dir={dataset_dir}/data" "output_dir={output_dir}/meds_tab" \
          do_overwrite=False "input_label_dir={labels_dir}" \
          "tabularization.aggs=[static/present,code/count,value/sum]" \
          "tabularization.window_sizes=[7d,30d]" \
          "tabularization.max_included_codes=10"

      meds-tab-xgboost \
          --multirun \
          worker="range(0,1)" \
          "input_dir={dataset_dir}/data" "output_dir={output_dir}/meds_tab" \
          "output_model_dir={output_dir}/results" "task_name=meds_dev_task" do_overwrite=False \
          "hydra.sweeper.n_trials=1" "hydra.sweeper.n_jobs=1" \
          "input_tabularized_cache_dir={output_dir}/meds_tab/" \
          "input_label_cache_dir={labels_dir}" \
          "tabularization.aggs=[static/present,code/count,value/sum]" \
          "tabularization.window_sizes=[7d,30d]" \
          "tabularization.max_included_codes=10"
